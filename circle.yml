#
# Build configuration for Circle CI
#

machine:

  environment:
    # Date format to be used in naming
    # yyyymmddHHMM
    VERSION_DATE : $(date +%Y%m%d%k%M)
    APK_PATH: '/outputs/apk/app-debug.apk'
    ANDROID_HOME: /usr/local/android-sdk-linux

  java:
    version: oraclejdk8

general:
  branches:
    ignore:
      - masters
      - /release\/.*/
      - /bugfix\/.*/
    only:
      - dev

deployment:
hockey:
  branch: master
  commands:
    - ipa distribute:hockeyapp -m "circleci build" --token $HOCKEYAPP_TOKEN